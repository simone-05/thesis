<div class="container">
  <div class="row mb-5 pt-3">
    <div class="col-md-8">
      <h1 class="my-3">Graphs List</h1>
    </div>
    <div class="col-md-4 d-grid">
      <!-- <div ngbDropdown placement="bottom-right" class="col-4 d-grid my-3 ms-auto me-2"> -->
        <!-- <button ngbDropdownToggle class="btn btn-success">+ New</button> -->
        <!-- <div ngbDropdownMenu> -->
            <!-- <form [formGroup]="form" novalidate class="p-3" style="width: 50vh;"> -->
              <!-- <h5 class="m-1">Insert name and description of the new graph</h5> -->
              <!-- <input type="text" class="form-control my-2" placeholder="Graph name" formControlName="name"> -->
              <!-- <p class="text-danger text-start" *ngIf="!form.controls['name'].valid">Graph name required</p> -->
              <!-- <textarea class="form-control my-2" placeholder="Graph Description" formControlName="description"></textarea> -->
              <!-- <div class="d-flex"> -->
                <!-- <div class="btn btn-primary ms-auto mt-2" (click)="goCreate()">Go to creation</div> -->
              <!-- </div> -->
            <!-- </form> -->
        <!-- </div> -->
      <!-- </div> -->
        <div class="col-4 d-grid my-3 ms-auto me-2">
          <button class="btn btn-success" [routerLink]="'/app/graph/create'">+ New</button>
        </div>
    </div>
  </div>
  <div class="row mt-3">
    <div *ngIf="!loaded;else lista">
      <!-- Loading Spinner -->
      <div style="text-align:center; padding-top: 42vh;">
        <!-- <h1 style="font-family: sans-serif;">
          <a style="text-decoration: none;" href="presentazione.slides.html">
            Go to presentation if not redirected
          </a>
        </h1> -->
        <div class="loader loader--style3" title="2">
          <svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100px" height="100px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve">
            <path fill="#000" d="M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z">
            <animateTransform attributeType="xml"
              attributeName="transform"
              type="rotate"
              from="0 25 25"
              to="360 25 25"
              dur=".5s"
              repeatCount="indefinite"/>
            </path>
          </svg>
        </div>
      </div>
    </div>

    <ng-template #lista>
      <!-- Graphs List -->
      <div class="col-md-12" *ngFor="let graph of getGraphs()">
        <div class="row my-3 bg-white">
          <div class="col-sm-8 py-4 ps-5">
            <h4>{{graph.name}}</h4>
            <p class="m-0">{{graph.description}}</p>
            <p class="mt-3" style="color:#999">{{graph.date}}</p>
          </div>
          <div class="col-sm-4 d-flex flex-sm-column flex-lg-row align-items-center justify-content-center gap-3 p-3">
            <button type="button" class="btn btn-dark whiten" [routerLink]="'/app/graph/view/'+graph.name">View</button>
            <button [routerLink]="'/app/graph/edit/'+graph.name" type="button" class="btn btn-dark whiten">Edit</button>
            <!-- <button type="button" class="btn btn-danger whiten-red" (click)="deleteGraph(graph.graph.name)">Delete</button> -->
            <button *ngIf="!this.graph_deletions[graph.name];else delete_sure" type="button" class="btn btn-danger whiten-red" (click)="confirm_delete(graph.name)">Delete</button>
            <ng-template #delete_sure>
              <button type="button" class="btn btn-danger whiten-red" (click)="deleteGraph(graph.name)" (mouseleave)="confirm_delete(graph.name)">Sure?</button>
            </ng-template>
          </div>
        </div>
      </div>
    </ng-template>
  </div>

  <!-- <form class="d-flex my-4"> -->
    <!-- <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search"> -->
    <!-- <button class="btn btn-outline-dark" type="submit">Search</button> -->
  <!-- </form> -->
</div>
